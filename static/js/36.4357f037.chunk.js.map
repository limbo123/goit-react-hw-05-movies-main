{"version":3,"file":"static/js/36.4357f037.chunk.js","mappings":"yUAIAA,IAAAA,SAAAA,QAAyB,+BAEzB,IAAMC,EAAU,mCAEHC,EAAe,WAC1B,OAAOF,IAAAA,IAAA,uCAA0CC,IAAWE,MAAK,SAAAC,GAAG,OAAIA,EAAIC,KAAKC,YAGtEC,EAAU,SAACC,GACpB,OAAOR,IAAAA,IAAA,iBAAoBQ,EAApB,oBAAkCP,EAAlC,oBAA4DE,MAAK,SAAAC,GAAG,OAAIA,EAAIC,SAG1EI,EAAa,SAACC,GACvB,OAAOV,IAAAA,IAAA,gCAAmCC,EAAnC,iCAAmES,EAAnE,gCACNP,MAAK,SAAAC,GAAG,OAAIA,EAAIC,KAAKC,YAGbK,EAAqB,SAACD,GAC/B,OAAOV,IAAAA,IAAA,gCAAmCC,EAAnC,iCAAmEW,IAAAA,MAAkBF,EAAO,CAACG,mBAAmB,IAAOH,MAAvH,gCACNP,MAAK,SAAAC,GAAG,OAAIA,EAAIC,KAAKC,YAGbQ,EAAU,SAACN,GACpB,OAAOR,IAAAA,IAAA,iBAAoBQ,EAApB,4BAA0CP,EAA1C,oBACNE,MAAK,SAAAC,GAAG,OAAIA,EAAIC,KAAKU,SAGbC,EAAa,SAACR,GACvB,OAAOR,IAAAA,IAAA,iBAAoBQ,EAApB,4BAA0CP,EAA1C,oBACNE,MAAK,SAAAC,GAAG,OAAIA,EAAIC,KAAKC,a,2HC7BpBW,EAAAA,SAAAA,IAAAA,EAAAA,EAAAA,GAAAA,EAAAA,GAAAA,IAAAA,GAAAA,EAAAA,EAAAA,GAAAA,GAAAA,SAAAA,IAAAA,IAAAA,GAAAA,EAAAA,EAAAA,GAAAA,KAAAA,GAAAA,IAAAA,IAAAA,EAAAA,UAAAA,OAAAA,EAAAA,IAAAA,MAAAA,GAAAA,EAAAA,EAAAA,EAAAA,EAAAA,IAAAA,EAAAA,GAAAA,UAAAA,GA6CH,OA7CGA,EAAAA,EAAAA,KAAAA,MAAAA,EAAAA,CAAAA,MAAAA,OAAAA,KACJC,MAAQ,CACNC,MAAO,GACPC,cAAe,IAFT,EAqBRC,aAAe,SAAAC,GACb,EAAKC,SAAS,CACZJ,MAAOG,EAAME,cAAcL,SAE9B,EAEDM,aAAe,SAAAH,GACbA,EAAMI,iBACN,EAAKC,MAAMC,QAAQC,KAAK,CACtBC,SAAU,EAAKH,MAAMG,SAASC,SAC9BC,OAAO,UAAD,OAAY,EAAKd,MAAMC,UAE/BV,EAAAA,EAAAA,IAAW,EAAKS,MAAMC,OACnBhB,MAAK,SAAAC,GACJ,EAAKmB,SAAS,CACZH,cAAehB,OAGlB6B,SAAQ,WACP,EAAKV,SAAS,CACZJ,MAAO,SAGd,EAmCA,OAnCA,yCAvCD,WAAqB,IAAD,OACgB,KAA/Be,KAAKP,MAAMG,SAASE,SACrBrB,EAAAA,EAAAA,IAAmBuB,KAAKP,MAAMG,SAASE,QACtC7B,MAAK,SAAAC,GACJ,EAAKmB,SAAS,CACZH,cAAehB,OAGlB6B,SAAQ,WACP,EAAKV,SAAS,CACZJ,MAAO,UAId,oBA2BD,WAAU,IAAD,OACP,OACE,iCACE,kBAAMgB,SAAUD,KAAKT,aAArB,WACE,kBACEW,KAAK,OACLjB,MAAOe,KAAKhB,MAAMC,MAClBkB,SAAUH,KAAKb,gBAEjB,mBAAQe,KAAK,SAAb,wBAGF,8BACE,wBACGF,KAAKhB,MAAME,cAAckB,KAAI,SAAAC,GAAI,OAChC,yBACE,SAAC,KAAD,CACEC,GAAI,CACFT,SAAS,WAAD,OAAaQ,EAAK/B,IAC1BU,MAAO,CACLuB,KAAM,EAAKd,MAAMG,SAASC,SAC1BC,OAAQ,EAAKL,MAAMG,SAASE,SALlC,SASGO,EAAKG,SAVDH,EAAK/B,kBAkBzB,EAhFGS,CAAmB0B,EAAAA,WAmFzB,a","sources":["api/movies-api.js","pages/MoviesPage/MoviesPage.jsx"],"sourcesContent":["import axios from 'axios';\r\nimport QueryString from 'qs';\r\n\r\n\r\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\r\n\r\nconst API_KEY = \"170b9b9397b0574b7d603cba918ea1f4\";\r\n\r\nexport const getTrendings = () => {\r\n  return axios.get(`/trending/movie/week?api_key=${API_KEY}`).then(res => res.data.results)\r\n};\r\n\r\nexport const getFilm = (id) => {\r\n    return axios.get(`/movie/${id}?api_key=${API_KEY}&language=en-US`).then(res => res.data)\r\n};\r\n\r\nexport const getResults = (query) => {\r\n    return axios.get(`/search/movie?api_key=${API_KEY}&language=en-US&query=${query}&page=1&include_adult=false`)\r\n    .then(res => res.data.results)\r\n};\r\n\r\nexport const getPreviousResults = (query) => {\r\n    return axios.get(`/search/movie?api_key=${API_KEY}&language=en-US&query=${QueryString.parse(query, {ignoreQueryPrefix: true}).query}&page=1&include_adult=false`)\r\n    .then(res => res.data.results)\r\n};\r\n\r\nexport const getCast = (id) => {\r\n    return axios.get(`/movie/${id}/credits?api_key=${API_KEY}&language=en-US`)\r\n    .then(res => res.data.cast)\r\n}\r\n\r\nexport const getReviews = (id) => {\r\n    return axios.get(`/movie/${id}/reviews?api_key=${API_KEY}&language=en-US`)\r\n    .then(res => res.data.results)\r\n}\r\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { getResults, getPreviousResults } from \"../../api/movies-api\"\n\nclass MoviesPage extends React.Component {\n  state = {\n    value: '',\n    searchResults: [],\n  };\n\n  componentDidMount() {\n    if(this.props.location.search !== \"\") {\n      getPreviousResults(this.props.location.search)\n      .then(res => {\n        this.setState({\n          searchResults: res,\n        });\n      })\n      .finally(() => {\n        this.setState({\n          value: '',\n        });\n      });\n    }\n  }\n\n  handleChange = event => {\n    this.setState({\n      value: event.currentTarget.value,\n    });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    this.props.history.push({\n      location: this.props.location.pathname,\n      search: `?query=${this.state.value}`,\n    })\n    getResults(this.state.value)\n      .then(res => {\n        this.setState({\n          searchResults: res,\n        });\n      })\n      .finally(() => {\n        this.setState({\n          value: '',\n        });\n      });\n  };\n\n  render() {\n    return (\n      <>\n        <form onSubmit={this.handleSubmit}>\n          <input\n            type=\"text\"\n            value={this.state.value}\n            onChange={this.handleChange}\n          />\n          <button type=\"submit\">Search</button>\n        </form>\n\n        <section>\n          <ul>\n            {this.state.searchResults.map(film => (\n              <li key={film.id}>\n                <Link\n                  to={{\n                    pathname: `/movies/${film.id}`,\n                    state: {\n                      from: this.props.location.pathname,\n                      search: this.props.location.search,\n                    },\n                  }}\n                >\n                  {film.title}\n                </Link>\n              </li>\n            ))}\n          </ul>\n        </section>\n      </>\n    );\n  }\n}\n\nexport default MoviesPage;\n"],"names":["axios","API_KEY","getTrendings","then","res","data","results","getFilm","id","getResults","query","getPreviousResults","QueryString","ignoreQueryPrefix","getCast","cast","getReviews","MoviesPage","state","value","searchResults","handleChange","event","setState","currentTarget","handleSubmit","preventDefault","props","history","push","location","pathname","search","finally","this","onSubmit","type","onChange","map","film","to","from","title","React"],"sourceRoot":""}